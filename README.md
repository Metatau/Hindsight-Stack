# Hindsight Stack

Self-hosted AI Agent Memory System —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Claude Code.

## –ß—Ç–æ —ç—Ç–æ?

**Hindsight** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ó–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –º–Ω–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—ã—Ç–∞
- –ù–∞—Ö–æ–¥–∏—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ñ–∞–∫—Ç–∞–º–∏
- –í—ã–ø–æ–ª–Ω—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ("—á—Ç–æ –±—ã–ª–æ –Ω–∞ –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–µ?")

**CLIProxyAPI** ‚Äî –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OAuth-–ø–æ–¥–ø–∏—Å–æ–∫ (Claude Max, Gemini) –∫–∞–∫ API –±–µ–∑ –ø–ª–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Claude Code                              ‚îÇ
‚îÇ                    (MCP: hindsight-memory)                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Hindsight                               ‚îÇ
‚îÇ                      localhost:8888                             ‚îÇ
‚îÇ              retain() ‚Üí recall() ‚Üí reflect()                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Markdown Proxy                              ‚îÇ
‚îÇ                      localhost:8318                             ‚îÇ
‚îÇ            (–û—á–∏—â–∞–µ—Ç ```json``` –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ LLM)                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       CLIProxyAPI                               ‚îÇ
‚îÇ                      localhost:8317                             ‚îÇ
‚îÇ                  (OAuth ‚Üí OpenAI API)                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Claude Max      ‚îÇ        Gemini        ‚îÇ
‚îÇ     (Anthropic)      ‚îÇ       (Google)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ —Å—Ç–µ–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Metatau/Hindsight-Stack.git
cd Hindsight-Stack

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
./scripts/start.sh
```

### 2. OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞)

**–í–∞—Ä–∏–∞–Ω—Ç A: Web UI**
1. –û—Ç–∫—Ä–æ–π http://localhost:8317/management.html
2. –í–≤–µ–¥–∏ secret-key –∏–∑ —Ç–≤–æ–µ–≥–æ `.env` —Ñ–∞–π–ª–∞ (CLIPROXYAPI_SECRET_KEY)
3. –ü–µ—Ä–µ–π–¥–∏ –≤ "OAuth Login"
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π Claude –∏/–∏–ª–∏ Gemini

**–í–∞—Ä–∏–∞–Ω—Ç B: CLI**
```bash
~/bin/cliproxyapi -config ~/.cli-proxy-api/config.yaml -claude-login
~/bin/cliproxyapi -config ~/.cli-proxy-api/config.yaml -login  # Gemini
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –°—Ç–∞—Ç—É—Å
./scripts/status.sh

# –¢–µ—Å—Ç retain
curl -X POST http://localhost:8888/v1/default/banks/test/memories \
  -H "Content-Type: application/json" \
  -d '{"items": [{"content": "Hello, Hindsight!"}], "async": false}'

# –¢–µ—Å—Ç recall
curl -X POST http://localhost:8888/v1/default/banks/test/memories/recall \
  -H "Content-Type: application/json" \
  -d '{"query": "Hello"}'
```

## üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–µ–∫–æ–º

| –ö–æ–º–∞–Ω–¥–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `hs-start` | üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `hs-stop` | üõë –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–µ–∫ |
| `hs-stop --all` | üõë –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë –≤–∫–ª—é—á–∞—è CLIProxyAPI |
| `hs-status` | üìä –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `hs-logs` | üìú –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Hindsight |
| `hs-ui` | üåê –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (localhost:9999) |
| `hs` | üìÅ –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ |

### –†–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é –≤ Claude Code

| –ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å | –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç |
|-------------|----------------|
| "–ó–∞–ø–æ–º–Ω–∏: ..." | –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤ –ø–∞–º—è—Ç—å (`memory_retain`) |
| "–ß—Ç–æ —Ç—ã –ø–æ–º–Ω–∏—à—å –æ ...?" | –ü–æ–∏—Å–∫ –≤ –ø–∞–º—è—Ç–∏ (`memory_recall`) |
| "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–æ–π –æ–ø—ã—Ç —Å ..." | –ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏ (`memory_reflect`) |

### Daily Workflow

```bash
# –£—Ç—Ä–æ ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å
hs-start

# –†–∞–±–æ—Ç–∞–µ—à—å —Å Claude Code...
# –ü–∞–º—è—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

# –í–µ—á–µ—Ä ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
hs-stop
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ Docker Desktop –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω
- ‚úÖ –°—Ç–µ–∫ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ `hs-start`
- ‚úÖ Claude Code –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MCP

## MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude Code

MCP —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `~/.claude/settings.json`.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `memory_retain` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ø–∞–º—è—Ç—å |
| `memory_recall` | –í—Å–ø–æ–º–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é |
| `memory_reflect` | –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥—ã |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Claude Code:

```
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ
"–ó–∞–ø–æ–º–Ω–∏: —è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é TypeScript –∏ –∏—Å–ø–æ–ª—å–∑—É—é Tailwind CSS"

# –í—Å–ø–æ–º–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
"–ß—Ç–æ —Ç—ã –ø–æ–º–Ω–∏—à—å –æ –º–æ–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö?"

# –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
"–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–æ–∏ –ª—é–±–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"
```

## REST API

### Retain (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
```bash
curl -X POST http://localhost:8888/v1/default/banks/{bank_id}/memories \
  -H "Content-Type: application/json" \
  -d '{
    "items": [{"content": "Your content here", "context": "optional context"}],
    "async": false
  }'
```

### Recall (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ)
```bash
curl -X POST http://localhost:8888/v1/default/banks/{bank_id}/memories/recall \
  -H "Content-Type: application/json" \
  -d '{"query": "search query", "limit": 5}'
```

### Reflect (–∞–Ω–∞–ª–∏–∑)
```bash
curl -X POST http://localhost:8888/v1/default/banks/{bank_id}/reflect \
  -H "Content-Type: application/json" \
  -d '{"topic": "topic to analyze"}'
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### .env

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `LLM_PROVIDER` | –ü—Ä–æ–≤–∞–π–¥–µ—Ä LLM | `openai` |
| `LLM_MODEL` | –ú–æ–¥–µ–ª—å | `gemini-2.5-flash` |
| `MEMORY_BANK_ID` | ID –±–∞–Ω–∫–∞ –ø–∞–º—è—Ç–∏ | `claude-code-memory` |

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

| –ü–æ–¥–ø–∏—Å–∫–∞ | –ú–æ–¥–µ–ª–∏ |
|----------|--------|
| Claude Max | `claude-sonnet-4-20250514`, `claude-opus-4-5-20251101` |
| Gemini | `gemini-2.5-flash`, `gemini-2.5-pro`, `gemini-3-pro-preview` |

> **–í–∞–∂–Ω–æ:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gemini –º–æ–¥–µ–ª–∏, —Ç.–∫. Claude –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤ markdown –±–ª–æ–∫–∞—Ö.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hindsight-stack/
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker —Å—Ç–µ–∫ (Hindsight)
‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ pg0/                # PostgreSQL –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ markdown-proxy/
‚îÇ   ‚îú‚îÄ‚îÄ main.py             # –ü—Ä–æ–∫—Å–∏ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ markdown
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ mcp-server/
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ src/index.ts        # MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è Claude Code
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ start.sh            # –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞
    ‚îú‚îÄ‚îÄ stop.sh             # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
    ‚îî‚îÄ‚îÄ status.sh           # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
```

## –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| CLIProxyAPI | 8317 | OAuth –ø—Ä–æ–∫—Å–∏ |
| Markdown Proxy | 8318 | –û—á–∏—Å—Ç–∫–∞ JSON –æ—Ç markdown |
| Hindsight API | 8888 | Memory API |
| Hindsight UI | 9999 | Control Plane UI |

## Troubleshooting

### Hindsight –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs hindsight

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
hs-stop && hs-start
```

### "JSON parse error" –≤ –ª–æ–≥–∞—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Gemini –º–æ–¥–µ–ª—å –≤ `.env`:
```
LLM_MODEL=gemini-2.5-flash
```

### OAuth —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫

```bash
# –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
~/bin/cliproxyapi -config ~/.cli-proxy-api/config.yaml -claude-login
```

### MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
cd mcp-server
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Claude Code
```

## –°—Å—ã–ª–∫–∏

- [Hindsight](https://github.com/vectorize-io/hindsight)
- [CLIProxyAPI](https://github.com/router-for-me/CLIProxyAPI)
- [MCP Protocol](https://modelcontextprotocol.io)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
